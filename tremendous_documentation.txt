Ici ce trouve des exemples de codes et documentations pour l'utilisation de tremendous pour récompenser les parrains : 

Environment	URL	API Key prefix
Sandbox	testflight.tremendous.com	TEST_
Production	api.tremendous.com	PROD_

Let’s send a test $50.00 reward. Run the cURL command below, replacing both YOUR-API-KEY and EMAIL-ADDRESS:
cURL
curl --url 'https://testflight.tremendous.com/api/v2/orders' \
     --header 'Authorization: Bearer YOUR-API-KEY' \
     --header 'Content-Type: application/json' \
     --data '
{
  "payment": {
    "funding_source_id": "BALANCE"
  },
  "reward": {
    "value": {
      "denomination": 50,
      "currency_code": "USD"
    },
    "delivery": {
      "method": "EMAIL"
    },
    "recipient": {
      "name": "Jane Doe",
      "email": "EMAIL-ADDRESS@example.com"
    },
    "products": [
      "OKMHM2X2OHYV",
      "KV934TZ93NQM",
      "ET0ZVETV5ILN",
      "Q24BD9EZ332JT",
      "TBAJH7YLFVS5"
    ]
  }
}
'


Create a reward via the API
You’ll pass in the campaign_id into the rewards object as follows:cURL
curl --url 'https://testflight.tremendous.com/api/v2/orders' \
     --header 'Authorization: Bearer YOUR-API-KEY' \
     --header 'Content-Type: application/json' \
     --data '
{
  "payment": {
    "funding_source_id": "BALANCE"
  },
  "reward": {
    "campaign_id": "YOUR-CAMPAIGN-ID-HERE",
    "value": {
      "denomination": 50,
      "currency_code": "EUR"
    },
    "delivery": {
      "method": "EMAIL"
    },
    "recipient": {
      "name": "Jane Doe",
      "email": "recipient@example.com"
    }
  }
}
'

Il faudra donc que l'interface admin avec tremendous intègre une zome pour renseigner un "campaign_id"

The vast majority of API orders use balance as the funding source. To pay for an order with your balance, you can simply use balance as the funding_source_id in the order request.
To use a different funding source to pay for an order, you can query the Funding sources resource to find the ID of the funding source:

cURL

curl --url 'https://testflight.tremendous.com/api/v2/funding_sources' \
     --header 'Authorization: Bearer YOUR-API-KEY'
JSON

{
  "funding_sources": [
    {
      "method": "balance",
      "id": "GCTHLCMFVYMD",
      "usage_permissions": [
        "api_orders", 
        "dashboard_orders"
      ],
      "status": "active",
      "meta": {
        "available_cents": 600000,
        "pending_cents": 0
      }
    },
    {
      "method": "invoice",
      "usage_permissions": [
        "api_orders"
      ],
      "status": "active",
      "type": "COMMERCIAL",
      "id": "4G1IPSQINMMV"
    }
  ]
}

"available_cents" représente l'argent qu'il reste sur l'accompte

Topups represent transactions that add funds to your Tremendous account balance from a saved bank account or credit card. These transactions are initiated with an API request.

To use topups, first add a bank account or credit card to your Tremendous account in the dashboard.

Ensure that your chosen funding source has balance_funding in the usage_permissions field. This means it can be used to create topups:

JSON

{
	  "id": "NNCO40HLYN87",
	  "method": "credit_card",
	  "usage_permissions": [
	    "balance_funding"
	  ],
	  "status": "active",
	  "meta": {
	    "accountholder_name": "Jane Doe",
	    "network": "Visa",
	    "last4": "1111",
	    "year": "2028",
	    "month": "12",
	    "expired": false,
	    "last_payment_failed_at": null
	  }
}
You must include an idempotency key when calling POST /topups; you can retry with the same key, and we guarantee at most one successful topup per key. If a previous request with that key was accepted (topup created), subsequent requests return 409 Conflict referencing the existing topup, but if the previous attempt failed (e.g., 4xx validation error), you can reuse the same key to resubmit corrected parameters.

When a topup is created, it will first show a status of created , meaning the topup request was successful and the transaction is underway. Once the funds have been added to the account balance, the topup status will change to fully_credited and the TOPUPS.FULLY_CREDITED webhook event will trigger (if your account has webhooks enabled).

Example Topup
JSON

{
  "topup": {
    "id": "XC82V7YJI4CC",
    "amount": 200.35,
    "processing_fee": 6.01,
    "funding_source_id": "FUNDING-SOURCE-ID",
    "status": "fully_credited",
    "created_at": "2025-08-14T22:22:30.783Z",
    "fully_credited_at": null,
    "rejected_at": null,
    "reversed_at": null,
    "reversed_reason": null,
    "idempotency_key": "abc1234"
  }
}

WEBHHOKS :
Tremendous uses webhooks as a notification system for various events that happen in your account.
Every organization can define a single webhook endpoint where we send requests to, whenever an event happens.
This endpoint allows you to setup that endpoint. The URL of the endpoint can be changed by making a request to this endpoint again with the new URL.

Request body
Property	Type	Description
url
string uri	
URL the webhook will make requests to

exemple :
<?php
$curl = curl_init();
curl_setopt_array($curl, [
  CURLOPT_URL => "https://testflight.tremendous.com/api/v2/webhooks",
  CURLOPT_RETURNTRANSFER => true,
  CURLOPT_ENCODING => "",
  CURLOPT_MAXREDIRS => 10,
  CURLOPT_TIMEOUT => 30,
  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
  CURLOPT_CUSTOMREQUEST => "POST",
  CURLOPT_POSTFIELDS => json_encode([
    'url' => 'https://ecosplay.fr/webhook'
  ]),
  CURLOPT_HTTPHEADER => [
    "accept: application/json",
    "content-type: application/json"
  ],
]);

$response = curl_exec($curl);
$err = curl_error($curl);

curl_close($curl);

if ($err) {
  echo "cURL Error #:" . $err;
} else {
  echo $response;
}


List of available events	
Webhook event	Description (forthcoming)
CAMPAIGNS.CREATED	A campaign is created in the UI.
CAMPAIGNS.DELETED	A campaign is deleted in the UI.
CONNECTED_ORGANIZATIONS.REGISTERED	A user has finished onboarding their organization through the Tremendous for Platforms integration.
CONNECTED_ORGANIZATIONS.STATUS.APPROVED	A connected organization was approved by Tremendous’s compliance team.
CONNECTED_ORGANIZATIONS.STATUS.REJECTED	A connected organization was rejected by Tremendous’s compliance team.
CONNECTED_ORGANIZATIONS.OAUTH.GRANTED	An OAuth token has been granted for the connected organization. Use this token to fetch the first access and refresh tokens for this organization.
FUNDING_SOURCES.CREATED	A funding source, like a credit card or a bank account, has been added.
FUNDING_SOURCES.DELETED	A funding source has been removed.
FUNDING_SOURCES.FUNDED	Your Tremendous balance has had funds added and made available.
INVOICES.CREATED	An invoice was created.
INVOICES.DELETED	An invoice was deleted.
INVOICES.PAID	An invoice has been paid.
MEMBERS.CREATED	A user was added to the team.
MEMBERS.DELETED	A user was removed from your team.
ORDERS.APPROVED	Your order was approved by an admin.
	This webhook will only fire if order approvals are on.
ORDERS.CANCELED	An order was rejected by you after it was held for review.
ORDERS.CREATED	An order was created.
ORDERS.FAILED	Your order failed. This typically happens if a credit card was declined.
	This never happens for API orders where there is a single reward per order. Those requests are processed synchronously, and error codes are returned if there's an issue.
PRODUCTS.ADDED	A product was added to the Tremendous product catalog, and made available.
PRODUCTS.REMOVED	A product was removed from the Tremendous product catalog, and is no longer available.
PRODUCTS.UPDATED	A product in the Tremendous product catalog was updated. Typically, this relates to changes in the available denominations.
REWARDS.CANCELED	A reward was canceled; this can happen for a variety of reasons.
REWARDS.FLAGGED	A reward is flagged for fraud review.
REWARDS.DELIVERY.FAILED	The reward delivery failed, usually due to an email bounce.
	This does not apply to LINK rewards.
REWARDS.DELIVERY.SUCCEEDED	Tremendous received confirmation that the reward email was delivered to the end-user.
	This does not apply to LINK rewards.
FRAUD_REVIEWS.RELEASED	A reward is released after fraud review.
FRAUD_REVIEWS.BLOCKED	A reward is blocked after fraud review.
REPORTS.GENERATION.SUCCEEDED	A report has successfully finished generating and is ready for download.
REPORTS.GENERATION.FAILED	A report failed to generate.
TOPUPS.CREATED	The topup is processing (and may be under review).
TOPUPS.FULLY_CREDITED	The funds have been added to the balance.
TOPUPS.REVERSED	The topup was credited, but then reversed due to a chargeback or ACH return.
TOPUPS.REJECTED	The topup was rejected by an admin.
